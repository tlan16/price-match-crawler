var PageJs=new Class.create;
PageJs.prototype=Object.extend(new CRUDPageJs,{_getResultRow:function(b,c){var a,d,e;a=this;d=c||!1;e=!0===d?"strong":"span";return(new Element("span",{"class":"row"})).store("data",b).addClassName(!1===b.active&&!1===d?"warning":"").addClassName("list-group-item").addClassName("item_row").writeAttribute("item_id",b.id).insert({bottom:(new Element(e,{"class":"name col-sm-3 col-xs-12"})).update(b.name)}).insert({bottom:(new Element(e,{"class":"description col-sm-3 col-xs-12"})).update(b.description)}).insert({bottom:(new Element(e,{"class":"address col-sm-4 col-xs-12"})).update(d?
"Address":b.address.full)}).insert({bottom:(new Element(e,{"class":"text-right btns col-sm-2 col-xs-12"})).update(!0===d?(new Element("span",{"class":"btn btn-primary btn-xs col-xs-12",title:"New"})).insert({bottom:new Element("span",{"class":"glyphicon glyphicon-plus"})}).insert({bottom:" NEW"}).observe("click",function(){a._openDetailsPage()}):(new Element("span",{"class":"btn-group btn-group-xs"})).insert({bottom:(new Element("span",{"class":"btn btn-primary",title:"Delete"})).insert({bottom:new Element("span",
{"class":"glyphicon glyphicon-pencil"})}).observe("click",function(){a._openDetailsPage(b)})}).insert({bottom:(new Element("span")).addClassName(!1===b.active&&!1===d?"btn btn-success":"btn btn-danger").writeAttribute("title",!1===b.active&&!1===d?"Re-activate":"De-activate").insert({bottom:(new Element("span")).addClassName(!1===b.active&&!1===d?"glyphicon glyphicon-repeat":"glyphicon glyphicon-trash")}).observe("click",function(){if(!confirm("Are you sure you want to "+(!0===b.active?"DE-ACTIVATE":
"RE-ACTIVATE")+" this item?"))return!1;a._deleteItem(b,b.active)})}))})},loadSelect2:function(){var b,c;jQuery("select.select2").each(function(){b={};if("Infinity"===$(this).readAttribute("data-minimum-results-for-search")||"infinity"===$(this).readAttribute("data-minimum-results-for-search")||-1==$(this).readAttribute("data-minimum-results-for-search"))b.minimumResultsForSearch="Infinity";jQuery(this).select2(b)});jQuery('[search_field="store.addressId"]').select2({allowClear:!0,multiple:!1,width:"100%",
ajax:{delay:250,url:"/ajax/getAll",type:"GET",data:function(a){return{searchTxt:"street like ? or city like ? or region like ? or country like ? or postCode like ?",searchParams:["%"+a+"%","%"+a+"%","%"+a+"%","%"+a+"%","%"+a+"%"],entityName:"Address",pageNo:1}},results:function(a,b,e){c=[];a.resultData&&a.resultData.items&&a.resultData.items.each(function(a){c.push({id:a.id,text:a.full,data:a})});return{results:c}}},cache:!0,escapeMarkup:function(a){return a}});jQuery('[search_field="store.contact"]').select2({allowClear:!0,
multiple:!1,width:"100%",ajax:{delay:250,url:"/ajax/getAll",type:"GET",data:function(a){return{searchTxt:"contactName like ? or contactNo like ?",searchParams:["%"+a+"%","%"+a+"%"],entityName:"Address",pageNo:1}},results:function(a,b,e){c=[];a.resultData&&a.resultData.items&&a.resultData.items.each(function(a){c.push({id:a.id,text:a.contactName+(""===a.contactName.trim()?a.contactNo:""===a.contactNo.trim()?"":" ("+a.contactNo+")"),data:a})});return{results:c}}},cache:!0,escapeMarkup:function(a){return a}})}});