var PageJs=new Class.create;
PageJs.prototype=Object.extend(new BPCPageJs,{load:function(){this.getStoreList($(this._preData.containerId),this._preData.stores);return this},getStoreList:function(d,k){var b,e,g,h,f,c;b=this;e=d||null;g=k||[];if(!e)return b;e.insert({bottom:h=(new Element("div")).addClassName("list-group")});g.each(function(a){console.debug(a);h.insert({bottom:(new Element("a",{href:"javascript:void(0)","class":"list-group-item",store_id:a.id})).addClassName(a.selected&&!0===a.selected?"active":"").update(a.name).observe("click",
function(a){f=$(this);if(f.hasClassName("active"))return b;c=f.readAttribute("store_id");if(!c||""===c||0==c)return b;b.switchStore(c)})})})},switchStore:function(d){this._disableAll();this.postAjax(this.getCallbackId("switchStore"),{store:d},{onComplete:function(){location.reload(!0)}});return this}});